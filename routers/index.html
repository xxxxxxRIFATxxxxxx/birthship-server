<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form method="post" enctype="multipart/form-data" id="feedback-form">
        <input type="number" name="rating" id="rating">
        <input type="text" name="message" id="message">
        <input type="file" name="attachments" id="attachments" multiple>
        <input type="button" value="submit" id="b">
    </form>

    <script>
      const feedbackForm = document.getElementById("b");
      feedbackForm.addEventListener("click", (event) => {
        event.preventDefault()
        const formData = new FormData();
        const rating = document.getElementById("rating").value;
        const message = document.getElementById("message").value;
        const attachments = document.getElementById("attachments").files;

        formData.append("rating", rating);
        formData.append("message", message);

        for (let i = 0; i < attachments.length; i++) {
            formData.append(`attachments`, attachments[i]);
        };

        fetch('http://localhost:5000/feedback/', {
                method: 'POST',
                body: formData,
            })
            .then(response => response.json())
            .then(data => {
             console.log('Success:', data);
            })
            .catch((error) => {
            console.error('Error:', error);
            });
      });
    </script>
</body>

</html>